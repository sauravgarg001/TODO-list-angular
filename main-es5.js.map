{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/app.service.ts","webpack:///src/app/list/dashboard/dashboard.component.ts","webpack:///src/app/list/dashboard/dashboard.component.html","webpack:///src/app/list/dashboard/search.pipe.ts","webpack:///src/app/list/dashboard/subTask.component.ts","webpack:///src/app/list/dashboard/subtask.component.html","webpack:///src/app/list/friends/filter-friends.pipe.ts","webpack:///src/app/list/friends/filter.pipe.ts","webpack:///src/app/list/friends/friends.component.ts","webpack:///src/app/list/friends/friends.component.html","webpack:///src/app/list/list.module.ts","webpack:///src/app/list/list.service.ts","webpack:///src/app/socket.service.ts","webpack:///src/app/user/login/login.component.ts","webpack:///src/app/user/login/login.component.html","webpack:///src/app/user/signup/signup.component.ts","webpack:///src/app/user/signup/signup.component.html","webpack:///src/app/user/user.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///ws (ignored)"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AppComponent","title","selector","templateUrl","styleUrls","AppModule","forRoot","path","component","pathMatch","redirectTo","declarations","imports","providers","bootstrap","AppService","http","url","err","message","data","params","set","firstName","lastName","mobileNumber","email","password","countryCode","post","OTP","newPassword","put","get","JSON","parse","localStorage","getItem","setItem","stringify","providedIn","DashboardComponent","appService","listService","socketService","router","faCheckSquare","faSquare","faTimes","faPlus","faShareSquare","faShare","faEye","faMinus","faPen","faRemoveFormat","faUndo","faCircle","authToken","userId","navigate","authError","verifyUserConfirmation","getLists","reject","subscribe","apiResponse","console","log","status","lists","error","getFriends","getUser","user","friends","getAddedFriend","getRemovedFriend","getOnlineUsers","getAddedOnlineUser","getRemovedOnlineUser","getList","list","isActive","listId","selfFlag","totalContributers","contributers","length","i","flag","j","user_id","isSelf","canEdit","isOwner","push","isFriend","addUndoOnKeypress","event","keyCode","ctrlKey","undoChanges","msg","info","document","onkeydown","getAddedContributer","getRemovedContributer","getChangedAccessContributer","getTasks","alert","exitSocket","setTimeout","verifyUser","setUser","onlineFriends","isOnline","k","onlineFriend","logout","disconnectedSocket","location","reload","createdOn","splice","listName","value","name","createList","Array","selectList","stopPropagation","index","setUpdates","eventName","removeList","undefined","markListAsActive","search","text","addTask","tasks","subTasks","isOpen","Date","now","modifiedOn","addContributor","removeContributor","grantAccessToEdit","grantAccessToRead","undo","getUpdatedTasks","goToFriends","SearchPipe","filter","task","indexOf","checkSubtasks","SubtaskComponent","taskNumber","tempTaskNumber","parseInt","substring","markTaskAsDone","markTaskAsOpen","removeTask","FilterFriendsPipe","users","filterText","checkUser","FilterPipe","FriendsComponent","faTimesCircle","faCheckCircle","getUsers","getFriendRequest","friend","noRequest","friendRequests","friendRequest","sendFriendRequest","acceptFriendRequest","userIndex","declineFriendRequest","removeFriend","goToHome","ListModule","forChild","ListService","SocketService","baseUrl","socket","create","observer","on","next","emit","disconnect","errorMessage","LoginComponent","isForgotPassword","changePassword","login","setUserInfoInLocalStorage","patt","test","forgotPassword","SignupComponent","phones","codes","Object","trim","signup","mobileNumberRegex","toString","match","UserModule","environment","production","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'TODO-list';\n}\n","<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppComponent } from './app.component';\nimport { UserModule } from './user/user.module';\nimport { ListModule } from './list/list.module';\nimport { LoginComponent } from './user/login/login.component';\nimport { AppService } from './app.service';\nimport { ListService } from './list/list.service';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    UserModule,\n    ListModule,\n    RouterModule.forRoot([\n      { path: 'login', component: LoginComponent, pathMatch: 'full' },\n      { path: '', redirectTo: 'login', pathMatch: 'full' },\n      { path: '*', redirectTo: 'login' },\n      { path: '**', redirectTo: 'login' }\n    ]),\n    HttpClientModule\n  ],\n  providers: [AppService, ListService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Cookie } from \"ng2-cookies/ng2-cookies\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppService {\n\n  private url = 'http://ec2-54-167-94-143.compute-1.amazonaws.com:3000/api/v1/users';\n\n  constructor(private http: HttpClient) { }\n\n  private handleError(err: HttpErrorResponse) {\n    return Observable.throw(err.message);\n  }\n\n  public signup(data): Observable<any> {\n    const params = new HttpParams()\n      .set('firstName', data.firstName)\n      .set('lastName', data.lastName)\n      .set('mobileNumber', data.mobileNumber)\n      .set('email', data.email)\n      .set('password', data.password)\n      .set('countryCode', data.countryCode);\n\n    return this.http.post(`${this.url}/signup`, params);\n  }\n\n  public login(data): Observable<any> {\n    const params = new HttpParams()\n      .set('email', data.email)\n      .set('password', data.password);\n\n    return this.http.post(`${this.url}/login`, params);\n  }\n\n  public forgotPassword(data): Observable<any> {\n    const params = new HttpParams()\n      .set('email', data.email)\n\n    return this.http.post(`${this.url}/forgot/password`, params);\n  }\n\n  public changePassword(data): Observable<any> {\n    const params = new HttpParams()\n      .set('email', data.email)\n      .set('OTP', data.OTP)\n      .set('newPassword', data.newPassword);\n\n    return this.http.put(`${this.url}/change/password`, params);\n  }\n\n  public logout(): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n    return this.http.post(`${this.url}/logout`, params);\n  }\n\n  public getUser(): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n\n    return this.http.get(`${this.url}/`, { params: params });\n  }\n\n  public getUsers(): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n\n    return this.http.get(`${this.url}/all`, { params: params });\n  }\n\n  public sendFriendRequest(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('email', data.email);\n\n    return this.http.post(`${this.url}/request/send`, params);\n  }\n\n  public acceptFriendRequest(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('email', data.email);\n\n    return this.http.put(`${this.url}/request/accept`, params);\n  }\n\n  public declineFriendRequest(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('email', data.email);\n\n    return this.http.delete(`${this.url}/request/decline`, { params: params });\n  }\n\n  public removeFriend(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('email', data.email);\n\n    return this.http.delete(`${this.url}/friend/remove`, { params: params });\n  }\n\n  public getUserInfoFromLocalStorage() {\n    return JSON.parse(localStorage.getItem('userInfo'));\n  }\n\n  public setUserInfoInLocalStorage(data) {\n    return localStorage.setItem('userInfo', JSON.stringify(data));\n  }\n\n  public getCountryCode(): Observable<any> {\n    return this.http.get(`http://country.io/phone.json`);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Cookie } from 'ng2-cookies/ng2-cookies';\nimport { AppService } from 'src/app/app.service';\nimport { Router } from '@angular/router';\nimport { faCheckSquare, faSquare, faTimes, faPlus, faShareSquare, faShare, faEye, faPen, faMinus, faRemoveFormat, faUndo, faCircle } from '@fortawesome/free-solid-svg-icons';\nimport { SocketService } from 'src/app/socket.service';\nimport { ListService } from '../list.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css'],\n  providers: [SocketService]\n})\nexport class DashboardComponent implements OnInit {\n\n  //Font Awesome Icons\n  public faCheckSquare = faCheckSquare;\n  public faSquare = faSquare;\n  public faTimes = faTimes;\n  public faPlus = faPlus;\n  public faShareSquare = faShareSquare;\n  public faShare = faShare;\n  public faEye = faEye;\n  public faMinus = faMinus;\n  public faPen = faPen;\n  public faRemoveFormat = faRemoveFormat;\n  public faUndo = faUndo;\n  public faCircle = faCircle;\n\n  private authToken: string;\n  private userId: string;\n  public search: string;\n  public searchFriend: string;\n  public lists;\n  public list;\n  private friends;\n  public email;\n  public firstName;\n  public lastName;\n\n  constructor(public appService: AppService, public listService: ListService, public socketService: SocketService, public router: Router) { }\n\n  ngOnInit(): void {\n    this.authToken = Cookie.get('authToken');\n    this.userId = Cookie.get('userId');\n    if (!this.authToken || !this.userId)\n      this.router.navigate(['/login']);\n    else {\n      //verify user\n      this.authError();\n      this.verifyUserConfirmation();\n\n      let getLists = () => {\n        return new Promise((resolve, reject) => {\n          this.listService.getLists().subscribe(\n            (apiResponse) => {\n              console.log(apiResponse);\n              if (apiResponse.status === 200) {\n                this.lists = apiResponse.data;\n                resolve();\n              }\n              else {\n                reject(apiResponse.message);\n              }\n            },\n            (err) => {\n              reject(err.error.message);\n            });\n        });\n      }\n\n      let getFriends = () => {\n        return new Promise((resolve, reject) => {\n          this.appService.getUser().subscribe(\n            (apiResponse) => {\n              console.log(apiResponse);\n              if (apiResponse.status === 200) {\n                let user = apiResponse.data;\n                this.firstName = user.firstName;\n                this.lastName = user.lastName;\n                this.email = user.email;\n                this.friends = user.friends;\n                this.getAddedFriend();\n                this.getRemovedFriend()\n                this.getOnlineUsers();\n                this.getAddedOnlineUser();\n                this.getRemovedOnlineUser();\n                resolve();\n              }\n              else {\n                reject(apiResponse.message);\n              }\n            },\n            (err) => {\n              reject(err.error.message);\n            });\n\n        });\n      }\n\n      let getList = () => {\n        return new Promise((resolve, reject) => {\n          if (!this.lists)\n            return;\n          for (let list of this.lists) {\n            if (list.isActive) {\n              this.listService.getList({ listId: list.listId }).subscribe(\n                (apiResponse) => {\n                  if (apiResponse.status === 200) {\n                    this.list = apiResponse.data;\n                    let selfFlag = true;\n                    let totalContributers = this.list.contributers.length;\n\n                    for (let i = 0; i < this.friends.length; i++) {\n                      let flag = true;\n                      for (let j = 0; j < totalContributers; j++) {\n                        if (this.list.contributers[j].user_id.userId == this.userId && selfFlag) {\n                          this.list.contributers[j].isSelf = true;\n                          console.log(\"Edit Access:\" + this.list.contributers[j].canEdit);\n                          this.list.canEdit = this.list.contributers[j].canEdit;\n                          if (this.list.contributers[j].isOwner)\n                            this.list.isOwner = true;\n                          else\n                            this.list.isOwner = false;\n                          selfFlag = false;\n                        }\n                        else if (this.list.contributers[j].user_id.email == this.friends[i].user_id.email) {\n                          flag = false;\n                          if (!selfFlag)\n                            break;\n                        }\n                      }\n                      if (flag) {\n                        this.list.contributers.push({\n                          isFriend: true,\n                          user_id: {\n                            email: this.friends[i].user_id.email,\n                            firstName: this.friends[i].user_id.firstName,\n                            lastName: this.friends[i].user_id.lastName,\n                          }\n                        });\n                      }\n                    }\n                    resolve('Initialization Done');\n                  }\n                  else {\n                    reject(apiResponse.message);\n                  }\n                },\n                (err) => {\n                  reject(err.error.message);\n                });\n              break;\n            }\n          }\n        });\n      }\n\n      let addUndoOnKeypress = (event: KeyboardEvent) => {\n        if (event.keyCode == 90 && event.ctrlKey)\n          this.undoChanges();\n      }\n\n      getLists()\n        .then(getFriends)\n        .then(getList)\n        .then(msg => {\n          console.info(msg);\n          document.onkeydown = addUndoOnKeypress;\n          this.getAddedContributer();\n          this.getRemovedContributer();\n          this.getChangedAccessContributer();\n          this.getTasks();\n        })\n        .catch(err => {\n          alert(err);\n        })\n    }\n  }\n\n  public goToFriends() {\n    this.socketService.exitSocket();\n    setTimeout(() => {\n      this.router.navigate(['/friends']);\n    }, 500);\n  }\n\n  public verifyUserConfirmation(): any {\n    this.socketService.verifyUser().subscribe(\n      () => {\n        this.socketService.setUser();\n      });\n  }\n\n  public getOnlineUsers(): any {\n    this.socketService.getOnlineUsers().subscribe(\n      (onlineFriends) => {\n        for (let i = 0; i < onlineFriends.length; i++) {\n          for (let j = 0; j < this.friends.length; j++) {\n            if (onlineFriends[i] == this.friends[j].user_id.email) {\n              this.friends[j].isOnline = true;\n              if (this.list) {\n                for (let k = 0; k < this.list.contributers.length; k++) {\n                  if (onlineFriends[i] == this.list.contributers[k].user_id.email) {\n                    this.list.contributers[k].isOnline = true;\n                    break;\n                  }\n                }\n              }\n              break;\n            }\n          }\n        }\n      });\n  }\n\n  public getAddedOnlineUser(): any {\n    this.socketService.getAddedOnlineUser().subscribe(\n      (onlineFriend) => {\n        for (let j = 0; j < this.friends.length; j++) {\n          if (onlineFriend == this.friends[j].user_id.email) {\n            this.friends[j].isOnline = true;\n            if (this.list) {\n              for (let k = 0; k < this.list.contributers.length; k++) {\n                if (onlineFriend == this.list.contributers[k].user_id.email) {\n                  this.list.contributers[k].isOnline = true;\n                  break;\n                }\n              }\n            }\n            break;\n          }\n        }\n      });\n  }\n\n  public getRemovedOnlineUser(): any {\n    this.socketService.getRemovedOnlineUser().subscribe(\n      (onlineFriend) => {\n        for (let j = 0; j < this.friends.length; j++) {\n          if (onlineFriend == this.friends[j].user_id.email) {\n            delete this.friends[j].isOnline;\n            if (this.list) {\n              for (let k = 0; k < this.list.contributers.length; k++) {\n                if (onlineFriend == this.list.contributers[k].user_id.email) {\n                  this.list.contributers[k].isOnline = false;\n                  break;\n                }\n              }\n            }\n            break;\n          }\n        }\n      });\n  }\n\n  public authError(): any {\n    this.socketService.authError().subscribe(\n      (data) => {\n        setTimeout(() => {\n          this.logout(data.error);\n        }, 200)\n      });\n  }\n\n  public disconnectedSocket(): any {\n    this.socketService.disconnectedSocket().subscribe(\n      () => {\n        location.reload();\n      });\n  }\n\n  public logout(err) {\n    this.socketService.exitSocket();\n    this.appService.logout().subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          alert(err || apiResponse.message);\n        }\n        else {\n          alert(err || apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err || err.error.message);\n      });\n    Cookie.delete('authToken');\n    Cookie.delete('userId');\n    this.router.navigate(['/login']);\n  }\n\n  public getAddedFriend(): any {\n    this.socketService.getAddedContributer().subscribe(\n      (data) => {\n        this.friends.push({\n          createdOn: data.createdOn,\n          user_id: {\n            email: data.email,\n            firstName: data.firstName,\n            lastName: data.lastName\n          }\n        });\n\n        let flag = true;\n        for (let i = 0; i < this.list.contributers.length; i++) {\n          if (this.list.contributers[i].user_id.email == data.email) {\n            flag = false;\n            break;\n          }\n        }\n        if (flag) {\n          this.list.contributers.push({\n            isFriend: true,\n            user_id: {\n              email: data.email,\n              firstName: data.firstName,\n              lastName: data.lastName,\n            }\n          });\n        }\n      });\n  }\n\n  public getRemovedFriend(): any {\n    this.socketService.getRemovedFriend().subscribe(\n      (data) => {\n        for (let i = 0; i < this.friends.length; i++) {\n          if (this.friends.user_id.email == data.email) {\n            this.friends.splice(i, 1);\n            break;\n          }\n        }\n\n        for (let i = 0; i < this.list.contributers.length; i++) {\n          if (this.list.contributers[i].user_id.email == data.email && this.list.contributers[i].isFriend) {\n            delete this.list.contributers[i].isFriend;\n            break;\n          }\n        }\n      });\n  }\n\n  public createList(listName) {\n    if (!listName.value) {\n      alert('Enter required fields!');\n      return;\n    }\n    let data = {\n      name: listName.value\n    }\n    this.listService.createList(data).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          let list = apiResponse.data;\n          if (!this.lists)\n            this.lists = Array();\n          this.lists.push(list);\n          listName.value = '';\n          this.selectList(list.listId);\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public deleteList(event: MouseEvent, listId) {\n    event.stopPropagation();\n    let data = {\n      listId: listId\n    }\n    let index = -1;\n    for (let i = 0; i < this.lists.length; i++) {\n      if (this.lists[i].listId == listId) {\n        index = i;\n        break;\n      }\n    }\n    //RTC\n    this.listService.getList({ listId: listId }).subscribe(\n      (apiResponse) => {\n        if (apiResponse.status === 200) {\n          let list = apiResponse.data;\n          for (let i = 0; i < list.contributers.length; i++) {\n            if (list.contributers[i].user_id.email != this.email) {\n              this.socketService.setUpdates({\n                eventName: 'remove-contributer',\n                listId: listId,\n                email: list.contributers[i].user_id.email\n              });\n            }\n          }\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n\n    this.listService.removeList(data).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          this.lists.splice(index, 1);\n          if (this.list && this.list.listId == listId)\n            this.list = undefined;\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public selectList(listId) {\n    let data = {\n      listId: listId,\n    }\n    this.listService.markListAsActive(data).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          this.list = apiResponse.data;\n          let selfFlag = true;\n          for (let i = 0; i < this.friends.length; i++) {\n            let flag = true;\n            for (let j = 0; j < this.list.contributers.length; j++) {\n              if (this.list.contributers[j].user_id.userId == this.userId && selfFlag) {\n                this.list.contributers[j].isSelf = true;\n                this.list.canEdit = this.list.contributers[j].canEdit;\n                if (this.list.contributers[j].isOwner)\n                  this.list.isOwner = true;\n                else\n                  this.list.isOwner = false;\n                selfFlag = false;\n              }\n              else if (this.list.contributers[j].user_id.email == this.friends[i].user_id.email) {\n                flag = false;\n                break;\n              }\n            }\n            if (flag) {\n              this.list.contributers.push({\n                isFriend: true,\n                user_id: {\n                  email: this.friends[i].user_id.email,\n                  firstName: this.friends[i].user_id.firstName,\n                  lastName: this.friends[i].user_id.lastName,\n                }\n              });\n            }\n          }\n          //change active list\n          for (let i = 0; i < this.lists.length; i++) {\n            if (this.lists[i].listId == listId) {\n              this.lists[i].isActive = true;\n            } else if (this.lists[i].isActive) {\n              this.lists[i].isActive = false;\n            }\n          }\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public addTask() {\n    if (!this.search || !this.list.canEdit)\n      return;\n    let data = {\n      text: this.search,\n      listId: this.list.listId,\n      index: -1\n    }\n    this.listService.addTask(data).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          this.list.tasks.push({ text: data.text, subTasks: [], isOpen: true, createdOn: Date.now(), modifiedOn: Date.now() });\n          //RTC\n          for (let i = 0; i < this.list.contributers.length; i++) {\n            if (this.list.contributers[i].user_id.email != this.email && !this.list.contributers[i].isFriend) {\n              this.socketService.setUpdates({\n                eventName: 'tasks',\n                listId: this.list.listId,\n                email: this.list.contributers[i].user_id.email,\n                tasks: this.list.tasks\n              });\n            }\n          }\n          this.search = '';\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public addToContributor(email, canEdit) {\n    let data = {\n      email: email,\n      canEdit: canEdit,\n      listId: this.list.listId,\n      name: this.list.name\n    }\n    this.listService.addContributor(data).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          for (let i = 0; i < this.list.contributers.length; i++) {\n            if (this.list.contributers[i].user_id.email == email) {\n              delete this.list.contributers[i].isFriend;\n              this.socketService.setUpdates({\n                eventName: 'add-contributer',\n                listId: this.list.listId,\n                email: this.list.contributers[i].user_id.email,\n                createdOn: Date.now(),\n                name: this.list.name,\n                canEdit: canEdit\n              });\n              this.list.contributers[i].canEdit = canEdit;\n              break;\n            }\n          }\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public getAddedContributer(): any {\n    this.socketService.getAddedContributer().subscribe(\n      (data) => {\n        if (data.email == this.email) {\n          this.lists.push({\n            createdOn: data.createdOn,\n            isActive: false,\n            listId: data.listId,\n            modifiedOn: data.createdOn,\n            name: data.name\n          });\n        }\n        else if (this.list && this.list.listId == data.listId) {\n          for (let i = 0; i < this.list.contributers.length; i++) {\n            if (this.list.contributers[i].user_id.email == data.email) {\n              delete this.list.contributers[i].isFriend;\n              this.list.contributers[i].canEdit = data.canEdit;\n              break;\n            }\n          }\n        }\n      });\n  }\n\n  public removeFromContributor(email) {\n    let data = {\n      email: email,\n      listId: this.list.listId\n    }\n    this.listService.removeContributor(data).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          for (let i = 0; i < this.list.contributers.length; i++) {\n            if (this.list.contributers[i].user_id.email == email) {\n              this.list.contributers[i].isFriend = true;\n              this.socketService.setUpdates({\n                eventName: 'remove-contributer',\n                listId: this.list.listId,\n                email: this.list.contributers[i].user_id.email\n              });\n              delete this.list.contributers[i].canEdit;\n              break;\n            }\n          }\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public getRemovedContributer(): any {\n    this.socketService.getRemovedContributer().subscribe(\n      (data) => {\n        if (data.email == this.email) {\n          for (let i = 0; i < this.lists.length; i++) {\n            if (this.lists[i].listId == data.listId) {\n              if (this.lists[i].isActive)\n                this.list = undefined;\n              this.lists.splice(i, 1);\n              break;\n            }\n          }\n        }\n        else if (this.list.listId == data.listId) {\n          for (let i = 0; i < this.list.contributers.length; i++) {\n            if (this.list.contributers[i].user_id.email == data.email) {\n              if (this.list.contributers[i].isOwner) {\n                for (let j = 0; j < this.lists.length; j++) {\n                  if (this.lists[j].listId == data.listId) {\n                    if (this.lists[j].isActive)\n                      this.list = undefined;\n                    this.lists.splice(j, 1);\n                    break;\n                  }\n                }\n                break;\n              } else {\n                this.list.contributers[i].isFriend = true;\n                delete this.list.contributers[i].canEdit;\n                break;\n              }\n            }\n          }\n        }\n      });\n  }\n\n  public grantAccessToEdit(email) {\n    let data = {\n      email: email,\n      listId: this.list.listId\n    }\n    this.listService.grantAccessToEdit(data).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          for (let i = 0; i < this.list.contributers.length; i++) {\n            if (this.list.contributers[i].user_id.email == email) {\n              this.socketService.setUpdates({\n                eventName: 'change-contributer',\n                listId: this.list.listId,\n                email: this.list.contributers[i].user_id.email,\n                modifiedOn: Date.now(),\n                canEdit: true\n              });\n              this.list.contributers[i].canEdit = true;\n              break;\n            }\n          }\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public grantAccessToRead(email) {\n    let data = {\n      email: email,\n      listId: this.list.listId\n    }\n    this.listService.grantAccessToRead(data).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          for (let i = 0; i < this.list.contributers.length; i++) {\n            if (this.list.contributers[i].user_id.email == email) {\n              this.socketService.setUpdates({\n                eventName: 'change-contributer',\n                listId: this.list.listId,\n                email: this.list.contributers[i].user_id.email,\n                modifiedOn: Date.now(),\n                canEdit: false\n              });\n              this.list.contributers[i].canEdit = false;\n              break;\n            }\n          }\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public getChangedAccessContributer(): any {\n    this.socketService.getChangedAccessContributer().subscribe(\n      (data) => {\n        if (this.list.listId == data.listId) {\n          for (let i = 0; i < this.list.contributers.length; i++) {\n            if (this.list.contributers[i].user_id.email == data.email) {\n              this.list.contributers[i].canEdit = data.canEdit;\n              this.list.contributers[i].modifiedOn = data.modifiedOn;\n              if (this.list.contributers[i].isSelf) {\n                this.list.canEdit = data.canEdit;\n              }\n              break;\n            }\n          }\n        }\n      });\n  }\n\n  public undoChanges() {\n    if (!this.list || !this.list.canEdit)\n      return;\n    let data = {\n      listId: this.list.listId\n    }\n    this.listService.undo(data).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          this.list.tasks = apiResponse.data;\n          //RTC\n          for (let i = 0; i < this.list.contributers.length; i++) {\n            if (this.list.contributers[i].user_id.email != this.email && !this.list.contributers[i].isFriend) {\n              this.socketService.setUpdates({\n                eventName: 'tasks',\n                listId: this.list.listId,\n                email: this.list.contributers[i].user_id.email,\n                tasks: this.list.tasks\n              });\n            }\n          }\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public getTasks(): any {\n    this.socketService.getUpdatedTasks().subscribe((data) => {\n      if (this.list.listId == data.listId)\n        this.list.tasks = data.tasks;\n    });\n  }\n}\n","<div class=\"container-fluid p-0\">\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n        <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo03\" aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div class=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\n            <ul class=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n                <li class=\"nav-item active\">\n                    <a class=\"nav-link\" [routerLink]=\"['/dashboard']\">Home <span class=\"sr-only\">(current)</span></a>\n                </li>\n                <li class=\"nav-item\">\n                    <a class=\"nav-link\" (click)=\"goToFriends()\">Friends</a>\n                </li>\n            </ul>\n            <form class=\"form-inline my-2 my-lg-0\">\n                <button class=\"btn btn-outline-danger my-2 my-sm-0\" type=\"button\" (click)=\"logout(null)\">Logout</button>\n            </form>\n        </div>\n    </nav>\n    <div class=\"jumbotron jumbotron-fluid\">\n        <div class=\"container\">\n            <h1 class=\"display-4 text-center\">\n                <span *ngIf=\"list\">{{list.name}}</span>\n                <span *ngIf=\"!list\">TODO List</span>\n            </h1>\n            <div class=\"form-row mb-3 mt-5\">\n                <div class=\"col-md-10\">\n                    <div class=\"dropdown\">\n                        <button class=\"btn btn-dark dropdown-toggle btn-block\" type=\"button\" id=\"dropdownMenuLists\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        Lists\n                        </button>\n                        <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenuLists\">\n                            <button class=\"dropdown-item\" type=\"button\" *ngFor=\"let list of lists\" (click)=\"selectList(list.listId)\" [ngClass]=\"{active:list.isActive}\">{{list.name}} <fa-icon style=\"cursor: pointer;\" [icon]=\"faTimes\" class=\"text-danger float-right\" (click)=\"deleteList($event,list.listId)\"></fa-icon></button>\n                            <div class=\"input-group\">\n                                <input type=\"text\" class=\"form-control\" #newListName>\n                                <div class=\"input-group-append\">\n                                    <button type=\"button\" class=\"form-control btn-block btn-secondary input-group-text\" (click)=\"createList(newListName)\">Create new List</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-md-2\" *ngIf=\"list\">\n                    <div class=\"dropdown\">\n                        <button class=\"btn btn-primary dropdown-toggle btn-block\" type=\"button\" id=\"dropdownMenuLists2\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                            <fa-icon [icon]=\"faShareSquare\" class=\"mr-2\"></fa-icon>Share\n                        </button>\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLists2\">\n                            <div class=\"form-row\">\n                                <div class=\"col-12\">\n                                    <input type=\"search\" name=\"searchFriend\" class=\"form-control form-control-sm\" [(ngModel)]=\"searchFriend\" placeholder=\"Search friends\">\n                                </div>\n                            </div>\n                            <div class=\"form-row\">\n                                <div class=\"col-12\">\n                                    <div class=\"list-group\">\n                                        <div class=\"list-group-item\" *ngFor=\"let contributer of list.contributers | filterFriends:searchFriend; let i = index\" [attr.data-index]=\"i\">\n                                            <fa-icon [icon]=\"faCircle\" class=\"text-success\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Online\" *ngIf=\"contributer.isOnline\"></fa-icon>\n                                            <span class=\"text\">{{contributer.user_id.firstName}} {{contributer.user_id.lastName}}</span>\n                                            <span class=\"float-right\" *ngIf=\"!contributer.isSelf && list.isOwner\">\n                                                <fa-icon style=\"cursor: pointer;\" [icon]=\"faEye\" (click)=\"addToContributor(contributer.user_id.email, false)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Make viewer\" *ngIf=\"contributer.isFriend\"></fa-icon>\n\n                                                <fa-icon style=\"cursor: pointer;\" [icon]=\"faPen\" (click)=\"addToContributor(contributer.user_id.email, true)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Make editor\" *ngIf=\"contributer.isFriend\"></fa-icon>\n\n                                                <fa-icon style=\"cursor: pointer;\" [icon]=\"faPen\" (click)=\"grantAccessToEdit(contributer.user_id.email)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Make editor\" *ngIf=\"!contributer.canEdit && !contributer.isFriend\"></fa-icon>\n\n                                                <fa-icon style=\"cursor: pointer;\" [icon]=\"faRemoveFormat\" (click)=\"grantAccessToRead(contributer.user_id.email)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Make viewer only\" *ngIf=\"contributer.canEdit\"></fa-icon>\n\n                                                <fa-icon style=\"cursor: pointer;\" [icon]=\"faMinus\" (click)=\"removeFromContributor(contributer.user_id.email)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Remove from contributers\" *ngIf=\"!contributer.isFriend\"></fa-icon>\n                                            </span>\n                                            <small class=\"float-right text-muted\" *ngIf=\"contributer.isOwner\">\n                                                Owner\n                                            </small>\n                                            <small class=\"float-right text-muted\" *ngIf=\"!contributer.isOwner &&contributer.canEdit\">\n                                                Editor\n                                            </small>\n                                            <small class=\"float-right text-muted\" *ngIf=\"!contributer.canEdit &&!contributer.isFriend\">\n                                                Viewer\n                                            </small>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"form-row mb-3 mt-5\" *ngIf=\"list\">\n                <div class=\"col-md-8\">\n                    <input type=\"search\" name=\"search\" class=\"form-control form-control-sm\" [(ngModel)]=\"search\" placeholder=\"Search or add new task\" (keyup.enter)=\"addTask()\">\n                </div>\n                <div class=\"col-md-2\">\n                    <button type=\"button\" style=\"cursor: pointer;\" class=\"form-control form-control-sm btn-block btn-dark btn-sm\" (click)=\"addTask()\" *ngIf=\"list.canEdit==true\">\n                        <fa-icon [icon]=\"faPlus\" class=\"mr-2\"></fa-icon>Add Task\n                    </button>\n                </div>\n                <div class=\"col-md-2\">\n                    <button type=\"button\" style=\"cursor: pointer;\" class=\"form-control form-control-sm btn-block btn-danger btn-sm\" (click)=\"undoChanges()\" *ngIf=\"list.canEdit==true\">\n                        <fa-icon [icon]=\"faUndo\" class=\"mr-2\"></fa-icon>Undo\n                    </button>\n                </div>\n            </div>\n            <div class=\"form-row\" *ngIf=\"list\">\n                <div class=\"col\" id=\"todo-list\">\n                    <subtask [search]=\"search\" [taskCounter]=\"''\" [list]=\"list\" [tasks]=\"list.tasks\" [email]=\"email\"></subtask>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n    name: 'search'\n})\nexport class SearchPipe implements PipeTransform {\n    transform(tasks: any[], filter: string): any {\n        if (!tasks || !filter) {\n            return tasks;\n        }\n        return tasks.filter(task => task.text.indexOf(filter) != -1 || this.checkSubtasks(task.subTasks, filter));\n    }\n\n    checkSubtasks(tasks, filter): boolean {\n        if (!tasks)\n            return false;\n        for (let task of tasks) {\n            if (task.text.indexOf(filter) != -1 || this.checkSubtasks(task.subTasks, filter))\n                return true;\n        }\n        return false;\n    }\n}","import { Component, Input } from '@angular/core';\r\nimport { Cookie } from 'ng2-cookies/ng2-cookies';\r\nimport { AppService } from 'src/app/app.service';\r\nimport { Router } from '@angular/router';\r\nimport { faCheckSquare, faSquare, faTimes, faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { ListService } from '../list.service';\r\nimport { SocketService } from 'src/app/socket.service';\r\n\r\n@Component({\r\n  selector: 'subtask',\r\n  templateUrl: './subtask.component.html',\r\n  styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class SubtaskComponent {\r\n  @Input() list;\r\n  @Input() tasks;\r\n  @Input() search: string;\r\n  @Input() taskCounter;\r\n  @Input() email;\r\n\r\n  //Font Awesome Icons\r\n  public faCheckSquare = faCheckSquare;\r\n  public faSquare = faSquare;\r\n  public faTimes = faTimes;\r\n  public faPlus = faPlus;\r\n\r\n  constructor(public appService: AppService, public listService: ListService, public socketService: SocketService, public router: Router) { }\r\n\r\n  public toggleTaskStatus(event, taskNumber: string) {\r\n    if (!this.list.canEdit) {\r\n      alert('Only Read Access');\r\n      return;\r\n    }\r\n    if (this.search) {\r\n      alert(\"Clear search first!\");\r\n      return;\r\n    }\r\n    event.stopPropagation();\r\n    let tempTaskNumber = taskNumber;\r\n    let tasks = this.list.tasks;\r\n    let task;\r\n\r\n    while (tempTaskNumber.indexOf('.') != -1) {\r\n      task = tasks[parseInt(tempTaskNumber.substring(0, tempTaskNumber.indexOf('.')))];\r\n      tasks = task.subTasks;\r\n      tempTaskNumber = tempTaskNumber.substring(tempTaskNumber.indexOf('.') + 1);\r\n    }\r\n    task = tasks[parseInt(tempTaskNumber)];\r\n\r\n    if (task.isOpen) {\r\n      let data = {\r\n        listId: this.list.listId,\r\n        index: taskNumber\r\n      }\r\n      this.listService.markTaskAsDone(data).subscribe(\r\n        (apiResponse) => {\r\n          console.log(apiResponse);\r\n          if (apiResponse.status === 200) {\r\n            task.isOpen = false;\r\n            //RTC\r\n            for (let i = 0; i < this.list.contributers.length; i++) {\r\n              if (this.list.contributers[i].user_id.email != this.email && !this.list.contributers[i].isFriend) {\r\n                this.socketService.setUpdates({\r\n                  eventName: 'tasks',\r\n                  listId: this.list.listId,\r\n                  email: this.list.contributers[i].user_id.email,\r\n                  tasks: this.list.tasks\r\n                });\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            alert(apiResponse.message);\r\n          }\r\n        },\r\n        (err) => {\r\n          alert(err.error.message);\r\n        });\r\n    } else {\r\n      let data = {\r\n        listId: this.list.listId,\r\n        index: taskNumber\r\n      }\r\n      this.listService.markTaskAsOpen(data).subscribe(\r\n        (apiResponse) => {\r\n          console.log(apiResponse);\r\n          if (apiResponse.status === 200) {\r\n            task.isOpen = true;\r\n            //RTC\r\n            for (let i = 0; i < this.list.contributers.length; i++) {\r\n              if (this.list.contributers[i].user_id.email != this.email && !this.list.contributers[i].isFriend) {\r\n                this.socketService.setUpdates({\r\n                  eventName: 'tasks',\r\n                  listId: this.list.listId,\r\n                  email: this.list.contributers[i].user_id.email,\r\n                  tasks: this.list.tasks\r\n                });\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            alert(apiResponse.message);\r\n          }\r\n        },\r\n        (err) => {\r\n          alert(err.error.message);\r\n        });\r\n    }\r\n  }\r\n\r\n  public removeTask(event, taskNumber: string) {\r\n    event.stopPropagation();\r\n    let data = {\r\n      listId: this.list.listId,\r\n      index: taskNumber\r\n    }\r\n    this.listService.removeTask(data).subscribe(\r\n      (apiResponse) => {\r\n        console.log(apiResponse);\r\n        if (apiResponse.status === 200) {\r\n          let tempTaskNumber = taskNumber;\r\n          let tasks = this.list.tasks;\r\n          let task;\r\n\r\n          while (tempTaskNumber.indexOf('.') != -1) {\r\n            task = tasks[parseInt(tempTaskNumber.substring(0, tempTaskNumber.indexOf('.')))];\r\n            tasks = task.subTasks;\r\n            tempTaskNumber = tempTaskNumber.substring(tempTaskNumber.indexOf('.') + 1);\r\n          }\r\n          tasks.splice(tempTaskNumber, 1);\r\n          //RTC\r\n          for (let i = 0; i < this.list.contributers.length; i++) {\r\n            if (this.list.contributers[i].user_id.email != this.email && !this.list.contributers[i].isFriend) {\r\n              this.socketService.setUpdates({\r\n                eventName: 'tasks',\r\n                listId: this.list.listId,\r\n                email: this.list.contributers[i].user_id.email,\r\n                tasks: this.list.tasks\r\n              });\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          alert(apiResponse.message);\r\n        }\r\n      },\r\n      (err) => {\r\n        alert(err.error.message);\r\n      });\r\n  }\r\n  public addSubTask(event, taskNumber: string, text) {\r\n    event.stopPropagation();\r\n    if (!text.value)\r\n      return;\r\n    let data = {\r\n      text: text.value,\r\n      listId: this.list.listId,\r\n      index: taskNumber\r\n    }\r\n    this.listService.addTask(data).subscribe(\r\n      (apiResponse) => {\r\n        console.log(apiResponse);\r\n        if (apiResponse.status === 200) {\r\n          let tempTaskNumber = taskNumber;\r\n          let tasks = this.list.tasks;\r\n          let task;\r\n\r\n          while (tempTaskNumber.indexOf('.') != -1) {\r\n            task = tasks[parseInt(tempTaskNumber.substring(0, tempTaskNumber.indexOf('.')))];\r\n            tasks = task.subTasks;\r\n            tempTaskNumber = tempTaskNumber.substring(tempTaskNumber.indexOf('.') + 1);\r\n          }\r\n          task = tasks[parseInt(tempTaskNumber)];\r\n          console.log(task);\r\n\r\n          task.subTasks.push({ text: data.text, subTasks: [], isOpen: true, createdOn: Date.now(), modifiedOn: Date.now() });\r\n          text.value = '';\r\n          //RTC\r\n          for (let i = 0; i < this.list.contributers.length; i++) {\r\n            if (this.list.contributers[i].user_id.email != this.email && !this.list.contributers[i].isFriend) {\r\n              this.socketService.setUpdates({\r\n                eventName: 'tasks',\r\n                listId: this.list.listId,\r\n                email: this.list.contributers[i].user_id.email,\r\n                tasks: this.list.tasks\r\n              });\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          alert(apiResponse.message);\r\n        }\r\n      },\r\n      (err) => {\r\n        alert(err.error.message);\r\n      });\r\n  }\r\n  public stopBubbling(event: MouseEvent) {\r\n    event.stopPropagation();\r\n  }\r\n}\r\n\r\nexport interface Task {\r\n  text: string;\r\n  subTasks: Task;\r\n}","<div class=\"list-group\" *ngIf=\"tasks\">\r\n    <div class=\"list-group-item list-group-item-action\" *ngFor=\"let task of tasks | search:search; let i = index\" [attr.data-index]=\"i\">\r\n        <span (click)=\"toggleTaskStatus($event,taskCounter+i)\" [ngClass]=\"{isOpen:task.isOpen,isDone:!task.isOpen}\">\r\n            <fa-icon [icon]=\"faSquare\" class=\"mr-2 open\"></fa-icon>\r\n            <fa-icon [icon]=\"faCheckSquare\" class=\"mr-2 done\"></fa-icon>\r\n            <span class=\"text\">{{task.text}}</span>\r\n        </span>\r\n        <fa-icon *ngIf=\"!search && list.canEdit\" [icon]=\"faTimes\" style=\"cursor: pointer;\" class=\"text-danger float-right\" (click)=\"removeTask($event,taskCounter+i)\"></fa-icon>\r\n        <div class=\"input-group\" *ngIf=\"!search && list.canEdit\">\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"Enter sub task\" #ref (keyup.enter)=\"addSubTask($event,taskCounter+i,ref)\">\r\n            <div class=\"input-group-append\">\r\n                <span class=\"input-group-text\" style=\"cursor: pointer;\" (click)=\"addSubTask($event,taskCounter+i,ref)\"><fa-icon [icon]=\"faPlus\"></fa-icon></span>\r\n            </div>\r\n        </div>\r\n        <subtask *ngIf=\"task.subTasks\" [search]=\"search\" [list]=\"list\" [taskCounter]=\"taskCounter+i+ '.' \" [tasks]=\"task.subTasks\" [email]=\"email\"></subtask>\r\n    </div>\r\n</div>","import { Pipe, PipeTransform } from \"@angular/core\";\r\n\r\n@Pipe({\r\n    name: 'filterFriends'\r\n})\r\nexport class FilterFriendsPipe implements PipeTransform {\r\n    transform(users: any[], filterText: string): any {\r\n        if (!users || !filterText) {\r\n            return users;\r\n        }\r\n        return users.filter(user => this.checkUser(user, filterText));\r\n    }\r\n\r\n    checkUser(user, filterText): boolean {\r\n        let name = user.user_id.firstName + ' ' + user.user_id.lastName;\r\n        if (user.user_id.email.indexOf(filterText) != -1 ||\r\n            name.indexOf(filterText) != -1)\r\n            return true;\r\n        return false;\r\n    }\r\n}","import { Pipe, PipeTransform } from \"@angular/core\";\r\n\r\n@Pipe({\r\n    name: 'filter'\r\n})\r\nexport class FilterPipe implements PipeTransform {\r\n    transform(users: any[], filterText: string): any {\r\n        if (!users || !filterText) {\r\n            return users;\r\n        }\r\n\r\n        return users.filter(user => this.checkUser(user, filterText));\r\n    }\r\n\r\n    checkUser(user, filterText): boolean {\r\n        let name = user.firstName + ' ' + user.lastName;\r\n        if (user.email.indexOf(filterText) != -1 ||\r\n            name.indexOf(filterText) != -1)\r\n            return true;\r\n        return false;\r\n    }\r\n}","import { Component, OnInit } from '@angular/core';\nimport { faCheckSquare, faSquare, faTimes, faPlus, faCheckCircle, faTimesCircle, faCircle } from '@fortawesome/free-solid-svg-icons';\nimport { AppService } from 'src/app/app.service';\nimport { Router } from '@angular/router';\nimport { Cookie } from 'ng2-cookies/ng2-cookies';\nimport { SocketService } from 'src/app/socket.service';\n\n@Component({\n  selector: 'app-friends',\n  templateUrl: './friends.component.html',\n  styleUrls: ['./friends.component.css'],\n  providers: [SocketService]\n})\nexport class FriendsComponent implements OnInit {\n\n  //Font Awesome Icons\n  public faCheckSquare = faCheckSquare;\n  public faSquare = faSquare;\n  public faTimes = faTimes;\n  public faPlus = faPlus;\n  public faTimesCircle = faTimesCircle;\n  public faCheckCircle = faCheckCircle;\n  public faCircle = faCircle;\n\n  private authToken: string;\n  private userId: string;\n  public searchUser: string;\n  public searchFriend: string;\n  public searchFriendRequest: string;\n  public users;\n  public friends;\n  public friendRequests;\n  public email;\n  public firstName;\n  public lastName;\n\n  constructor(public appService: AppService, public socketService: SocketService, public router: Router) { }\n\n  ngOnInit(): void {\n    this.authToken = Cookie.get('authToken');\n    this.userId = Cookie.get('userId');\n    if (!this.authToken || !this.userId)\n      this.router.navigate(['/login']);\n    else {\n      //verify user\n      this.authError();\n      this.verifyUserConfirmation();\n\n      this.appService.getUsers().subscribe(\n        (apiResponse) => {\n          console.log(apiResponse);\n          if (apiResponse.status === 200) {\n            this.users = apiResponse.data;\n          }\n          else {\n            alert(apiResponse.message);\n          }\n        },\n        (err) => {\n          alert(err.error.message);\n        });\n\n      this.appService.getUser().subscribe(\n        (apiResponse) => {\n          console.log(apiResponse);\n          if (apiResponse.status === 200) {\n            let user = apiResponse.data;\n            this.firstName = user.firstName;\n            this.lastName = user.lastName;\n            this.email = user.email;\n            this.friends = user.friends;\n            this.getAddedFriend();\n            this.getRemovedFriend()\n            this.getOnlineUsers();\n            this.getAddedOnlineUser();\n            this.getRemovedOnlineUser();\n            this.getFriendRequest();\n            if (this.friends.length == 0)\n              this.friends = undefined;\n            else {\n              for (let friend of this.friends) {\n                for (let i = 0; i < this.users.length; i++) {\n                  if (this.users[i].email == friend.user_id.email) {\n                    this.users[i].noRequest = true;\n                    break;\n                  }\n                }\n              }\n            }\n            this.friendRequests = user.friendRequests;\n            if (this.friendRequests.length == 0)\n              this.friendRequests = undefined;\n            else {\n              for (let friendRequest of this.friendRequests) {\n                for (let i = 0; i < this.users.length; i++) {\n                  if (this.users[i].email == friendRequest.user_id.email) {\n                    this.users[i].noRequest = true;\n                    break;\n                  }\n                }\n              }\n            }\n          }\n          else {\n            alert(apiResponse.message);\n          }\n        },\n        (err) => {\n          alert(err.error.message);\n        });\n    }\n  }\n\n  public goToHome() {\n    this.socketService.exitSocket();\n    setTimeout(() => {\n      this.router.navigate(['/dashboard']);\n    }, 500);\n  }\n\n  public verifyUserConfirmation(): any {\n    this.socketService.verifyUser().subscribe(\n      () => {\n        this.socketService.setUser();\n      });\n  }\n\n  public authError(): any {\n    this.socketService.authError().subscribe(\n      (data) => {\n        setTimeout(() => {\n          this.logout(data.error);\n        }, 200)\n      });\n  }\n\n  public logout(err) {\n    this.socketService.exitSocket();\n    this.appService.logout().subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          alert(err || apiResponse.message);\n        }\n        else {\n          alert(err || apiResponse.message);\n        }\n        Cookie.delete('authToken');\n        Cookie.delete('userId');\n        this.router.navigate(['/login']);\n      },\n      (err) => {\n        alert(err || err.error.message);\n        Cookie.delete('authToken');\n        Cookie.delete('userId');\n        this.router.navigate(['/login']);\n      });\n  }\n\n  public sendFriendRequest(email) {\n    this.appService.sendFriendRequest({ email: email }).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          alert(apiResponse.message);\n          this.socketService.setUpdates({\n            eventName: 'add-friend-request',\n            email: email,\n            createdOn: Date.now(),\n            firstName: this.firstName,\n            lastName: this.lastName,\n          });\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public acceptFriendRequest(email) {\n    let index = -1;\n    for (let i = 0; i < this.friendRequests.length; i++) {\n      if (this.friendRequests[i].user_id.email == email) {\n        index = i;\n        break;\n      }\n    }\n    let user = this.friendRequests[index];\n\n    this.appService.acceptFriendRequest({ email: email }).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          if (!this.friends)\n            this.friends = Array();\n          this.friends.push({\n            createdOn: Date.now(),\n            user_id: {\n              email: email,\n              firstName: this.firstName,\n              lastName: this.lastName,\n            }\n          })\n          this.friendRequests.splice(index, 1);\n          this.socketService.setUpdates({\n            eventName: 'add-friend',\n            email: email,\n            createdOn: Date.now(),\n            firstName: this.firstName,\n            lastName: this.lastName,\n          });\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public declineFriendRequest(email) {\n    let index = -1;\n    for (let i = 0; i < this.friendRequests.length; i++) {\n      if (this.friendRequests[i].user_id.email == email) {\n        index = i;\n        break;\n      }\n    }\n\n    let userIndex = -1;\n    for (let i = 0; i < this.users.length; i++) {\n      if (this.users[i].email == email) {\n        userIndex = i;\n        break;\n      }\n    }\n\n    this.appService.declineFriendRequest({ email: email }).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          this.friendRequests.splice(index, 1);\n          delete this.users[userIndex].noRequest;\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public removeFriend(email) {\n    let index = -1;\n    for (let i = 0; i < this.friends.length; i++) {\n      if (this.friends[i].user_id.email == email) {\n        index = i;\n        break;\n      }\n    }\n\n    let userIndex = -1;\n    for (let i = 0; i < this.users.length; i++) {\n      if (this.users[i].email == email) {\n        userIndex = i;\n        break;\n      }\n    }\n\n    this.appService.removeFriend({ email: email }).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          delete this.users[userIndex].noRequest;\n          this.friends.splice(index, 1);\n          this.socketService.setUpdates({\n            eventName: 'remove-friend',\n            email: email\n          });\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public getAddedFriend(): any {\n    this.socketService.getAddedFriend().subscribe(\n      (data) => {\n        if (!this.friends)\n          this.friends = Array();\n        this.friends.push({\n          createdOn: data.createdOn,\n          user_id: {\n            email: data.email,\n            firstName: data.firstName,\n            lastName: data.lastName,\n            isOnline: true\n          }\n        });\n      });\n  }\n\n  public getFriendRequest(): any {\n    this.socketService.getFriendRequest().subscribe(\n      (data) => {\n        for (let i = 0; i < this.friendRequests.length; i++) {\n          if (this.friendRequests[i].user_id.email == data.email) {\n            this.friendRequests.splice(i, 1);\n            break;\n          }\n        }\n        if (!this.friendRequests)\n          this.friendRequests = Array();\n        this.friendRequests.push({\n          createdOn: data.createdOn,\n          user_id: {\n            email: data.email,\n            firstName: data.firstName,\n            lastName: data.lastName\n          }\n        });\n      });\n  }\n\n  public getRemovedFriend(): any {\n    this.socketService.getRemovedFriend().subscribe(\n      (data) => {\n        for (let i = 0; i < this.friends.length; i++) {\n          if (this.friends[i].user_id.email == data.email) {\n            this.friends.splice(i, 1);\n            break;\n          }\n        }\n      });\n  }\n\n  public getOnlineUsers(): any {\n    this.socketService.getOnlineUsers().subscribe(\n      (onlineFriends) => {\n        console.log(onlineFriends);\n\n        for (let i = 0; i < onlineFriends.length; i++) {\n          for (let j = 0; j < this.friends.length; j++) {\n            if (onlineFriends[i] == this.friends[j].user_id.email) {\n              this.friends[j].isOnline = true;\n              break;\n            }\n          }\n        }\n      });\n  }\n\n  public getAddedOnlineUser(): any {\n    this.socketService.getAddedOnlineUser().subscribe(\n      (onlineFriend) => {\n        for (let j = 0; j < this.friends.length; j++) {\n          if (onlineFriend == this.friends[j].user_id.email) {\n            this.friends[j].isOnline = true;\n            break;\n          }\n        }\n      });\n  }\n\n  public getRemovedOnlineUser(): any {\n    this.socketService.getRemovedOnlineUser().subscribe(\n      (onlineFriend) => {\n        for (let j = 0; j < this.friends.length; j++) {\n          if (onlineFriend == this.friends[j].user_id.email) {\n            delete this.friends[j].isOnline;\n            break;\n          }\n        }\n      });\n  }\n\n}\n","<div class=\"container-fluid p-0\">\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n        <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo03\" aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div class=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\n            <ul class=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n                <li class=\"nav-item\">\n                    <a class=\"nav-link\" (click)=\"goToHome()\">Home</a>\n                </li>\n                <li class=\"nav-item active\">\n                    <a class=\"nav-link\" [routerLink]=\"['/friends']\">Friends<span class=\"sr-only\">(current)</span></a>\n                </li>\n            </ul>\n            <form class=\"form-inline my-2 my-lg-0\">\n                <button class=\"btn btn-outline-danger my-2 my-sm-0\" type=\"button\" (click)=\"logout(null)\">Logout</button>\n            </form>\n        </div>\n    </nav>\n    <div class=\"jumbotron jumbotron-fluid\">\n        <div class=\"container\">\n            <h1 class=\"display-4 text-center\">\n                <span>Friends List</span>\n            </h1>\n            <div class=\"form-row mb-3 mt-5\" *ngIf=\"users\">\n                <div class=\"col-12\">\n                    <input type=\"search\" name=\"searchUser\" class=\"form-control form-control-sm\" [(ngModel)]=\"searchUser\" placeholder=\"Find friends\">\n                </div>\n                <div class=\"col-12\">\n                    <div class=\"list-group\">\n                        <div class=\"list-group-item list-group-item-action\" *ngFor=\"let user of users | filter:searchUser; let i = index\" [attr.data-index]=\"i\">\n                            <span class=\"text\">{{user.firstName}} {{user.lastName}}</span>\n                            <span *ngIf=\"!user.noRequest\" class=\"float-right\" (click)=\"sendFriendRequest(user.email)\">\n                                <fa-icon [icon]=\"faPlus\"></fa-icon>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"form-row mb-3 mt-5\">\n                <div class=\"col-md-6\" *ngIf=\"friends\">\n                    <div class=\"form-row\">\n                        <div class=\"col-12\">\n                            Friends\n                        </div>\n                        <div class=\"col-12\">\n                            <input type=\"search\" name=\"searchFriend\" class=\"form-control form-control-sm\" [(ngModel)]=\"searchFriend\" placeholder=\"Search friends\">\n                        </div>\n                    </div>\n                    <div class=\"form-row\">\n                        <div class=\"col-12\">\n                            <div class=\"list-group\">\n                                <div class=\"list-group-item list-group-item-action\" *ngFor=\"let friend of friends | filterFriends:searchFriend; let i = index\" [attr.data-index]=\"i\">\n                                    <fa-icon [icon]=\"faCircle\" class=\"text-success\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Online\" *ngIf=\"friend.isOnline\"></fa-icon>\n                                    <span class=\"text\">{{friend.user_id.firstName}} {{friend.user_id.lastName}}</span>\n                                    <span class=\"float-right\" (click)=\"removeFriend(friend.user_id.email)\">\n                                        <fa-icon [icon]=\"faTimesCircle\" class=\"text-danger\" style=\"font-size: 1.5rem;\"></fa-icon>\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-md-6\" *ngIf=\"friendRequests\">\n                    <div class=\"form-row\">\n                        <div class=\"col-12\">\n                            Friend Requets\n                        </div>\n                        <div class=\"col-12\">\n                            <input type=\"search\" name=\"searchFriendRequest\" class=\"form-control form-control-sm\" [(ngModel)]=\"searchFriendRequest\" placeholder=\"Search friend requests\">\n                        </div>\n                    </div>\n                    <div class=\"form-row\">\n                        <div class=\"col-12\">\n                            <div class=\"list-group\">\n                                <div class=\"list-group-item list-group-item-action\" *ngFor=\"let friendRequest of friendRequests | filterFriends:searchFriendRequest; let i = index\" [attr.data-index]=\"i\">\n                                    <span (click)=\"acceptFriendRequest(friendRequest.user_id.email)\">\n                                        <fa-icon [icon]=\"faCheckCircle\" class=\"text-primary\" style=\"font-size: 1.5rem;\"></fa-icon>\n                                    </span>\n                                    <span (click)=\"declineFriendRequest(friendRequest.user_id.email)\">\n                                        <fa-icon [icon]=\"faTimesCircle\" class=\"text-danger\" style=\"font-size: 1.5rem;\"></fa-icon>\n                                    </span>\n                                    <span class=\" ml-4 align-top\" style=\"font-size: 1.2rem;\">{{friendRequest.user_id.firstName}} {{friendRequest.user_id.lastName}}</span>\n                                    <small class=\"float-right text-muted\">{{friendRequest.createdOn |  date:'h:mm a, d MMM y' }}</small>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { SubtaskComponent } from './dashboard/subTask.component';\nimport { SearchPipe } from './dashboard/search.pipe';\nimport { ListService } from './list.service';\nimport { FriendsComponent } from './friends/friends.component';\nimport { FilterPipe } from './friends/filter.pipe';\nimport { FilterFriendsPipe } from './friends/filter-friends.pipe';\n\n\n\n@NgModule({\n  declarations: [DashboardComponent, SubtaskComponent, SearchPipe, FriendsComponent, FilterPipe, FilterFriendsPipe],\n  imports: [\n    CommonModule,\n    RouterModule.forChild([\n      { path: 'dashboard', component: DashboardComponent },\n      { path: 'friends', component: FriendsComponent }\n    ]),\n    FormsModule,\n    FontAwesomeModule\n  ],\n  providers: [ListService],\n})\nexport class ListModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Cookie } from \"ng2-cookies/ng2-cookies\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ListService {\n\n  private url = 'http://ec2-54-167-94-143.compute-1.amazonaws.com:3000/api/v1/lists';\n\n  constructor(private http: HttpClient) { }\n\n  private handleError(err: HttpErrorResponse) {\n    return Observable.throw(err.message);\n  }\n\n  public createList(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('name', data.name);\n\n    return this.http.post(`${this.url}/`, params);\n  }\n\n  public removeList(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('listId', data.listId);\n\n    return this.http.delete(`${this.url}/`, { params: params });\n  }\n\n  public getList(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('listId', data.listId);\n    return this.http.get(`${this.url}/`, { params: params });\n  }\n\n  public getLists(): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'));\n    return this.http.get(`${this.url}/all`, { params: params });\n  }\n\n  public markListAsActive(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('listId', data.listId);\n    return this.http.put(`${this.url}/mark/active`, params);\n  }\n\n  public addTask(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('text', data.text)\n      .set('listId', data.listId)\n      .set('index', data.index);\n    return this.http.post(`${this.url}/task`, params);\n  }\n\n  public removeTask(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('listId', data.listId)\n      .set('index', data.index);\n    return this.http.delete(`${this.url}/task`, { params: params });\n  }\n\n  public markTaskAsDone(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('listId', data.listId)\n      .set('index', data.index);\n    return this.http.put(`${this.url}/task/mark/done`, params);\n  }\n\n  public markTaskAsOpen(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('listId', data.listId)\n      .set('index', data.index);\n    return this.http.put(`${this.url}/task/mark/open`, params);\n  }\n\n  public addContributor(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('email', data.email)\n      .set('listId', data.listId)\n      .set('name', data.name)\n      .set('canEdit', data.canEdit);\n    return this.http.post(`${this.url}/contributers`, params);\n  }\n\n  public removeContributor(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('listId', data.listId)\n      .set('email', data.email);\n    return this.http.delete(`${this.url}/contributers`, { params: params });\n  }\n\n  public grantAccessToEdit(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('listId', data.listId)\n      .set('email', data.email);\n    return this.http.put(`${this.url}/contributers/access/edit`, params);\n  }\n\n  public grantAccessToRead(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('listId', data.listId)\n      .set('email', data.email);\n    return this.http.put(`${this.url}/contributers/access/read`, params);\n  }\n\n  public undo(data): Observable<any> {\n    const params = new HttpParams()\n      .set('authToken', Cookie.get('authToken'))\n      .set('listId', data.listId);\n    return this.http.put(`${this.url}/undo`, params);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as io from 'socket.io-client';\nimport { Observable } from 'rxjs';\nimport { Cookie } from 'ng2-cookies/ng2-cookies';\nimport { HttpErrorResponse, HttpClient } from '@angular/common/http';\nimport { tap } from \"rxjs/operators\"\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketService {\n\n  private baseUrl = 'http://ec2-54-167-94-143.compute-1.amazonaws.com:3000';\n  private socket;\n\n  constructor(public http: HttpClient) {\n    //handshake\n    this.socket = io(this.baseUrl);\n  }\n\n  public verifyUser() {\n    return Observable.create(\n      (observer) => {\n        this.socket.on('verifyUser',\n          (data) => {\n            observer.next(data);\n          });\n      });\n  }\n\n  public setUser() {\n    let data = {\n      userId: Cookie.get('userId'),\n      authToken: Cookie.get('authToken')\n    }\n    this.socket.emit('set-user', data);\n  }\n\n  public setUpdates(data) {\n    data.userId = Cookie.get('userId');\n    let eventName = data.eventName;\n    delete data.eventName;\n    this.socket.emit(eventName, data);\n  }\n\n  public authError() {\n    return Observable.create((observer) => {\n      this.socket.on('auth-error@' + Cookie.get('authToken'), (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  public disconnectedSocket() {\n    return Observable.create(\n      (observer) => {\n        this.socket.on('disconnect',\n          () => {\n            observer.next();\n          });\n      });\n  }\n\n  public getOnlineUsers() {\n    return Observable.create((observer) => {\n      this.socket.on('online-users', (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  public getAddedOnlineUser() {\n    return Observable.create((observer) => {\n      this.socket.on('online-user-add@' + Cookie.get('authToken'), (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  public getRemovedOnlineUser() {\n    return Observable.create((observer) => {\n      this.socket.on('online-user-remove@' + Cookie.get('authToken'), (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  public getUpdatedTasks() {\n    return Observable.create((observer) => {\n      this.socket.on('tasks@' + Cookie.get('authToken'), (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  public getAddedContributer() {\n    return Observable.create((observer) => {\n      this.socket.on('add-contributer@' + Cookie.get('authToken'), (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  public getRemovedContributer() {\n    return Observable.create((observer) => {\n      this.socket.on('remove-contributer@' + Cookie.get('authToken'), (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  public getChangedAccessContributer() {\n    return Observable.create((observer) => {\n      this.socket.on('change-contributer@' + Cookie.get('authToken'), (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  public getAddedFriend() {\n    return Observable.create((observer) => {\n      this.socket.on('add-friend@' + Cookie.get('authToken'), (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  public getFriendRequest() {\n    return Observable.create((observer) => {\n      this.socket.on('add-friend-request@' + Cookie.get('authToken'), (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  public getRemovedFriend() {\n    return Observable.create((observer) => {\n      this.socket.on('remove-friend@' + Cookie.get('authToken'), (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  public exitSocket() {\n    this.socket.disconnect();\n  }\n\n  private handleError(err: HttpErrorResponse) {\n    let errorMessage = '';\n    if (err.error instanceof Error) {\n      errorMessage = `An error occured: ${err.error.message}`;\n    }\n    else {\n      errorMessage = `Server returned code: ${err.status}, error message is: ${err.error.message}`;\n    }\n    console.error(errorMessage);\n    return Observable.throw(errorMessage);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AppService } from 'src/app/app.service';\nimport { Router } from '@angular/router';\nimport { Cookie } from 'ng2-cookies/ng2-cookies';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  public email: string;\n  public password: string;\n  public isForgotPassword: boolean = false;\n  public OTP;\n\n  constructor(public appService: AppService, public router: Router) { }\n\n  ngOnInit(): void {\n    if (Cookie.get('authToken') && Cookie.get('userId'))\n      this.router.navigate(['/dashboard']);\n  }\n\n  public login(): void {\n    if (this.isForgotPassword) {\n      let data = {\n        email: this.email,\n        newPassword: this.password,\n        OTP: this.OTP\n      }\n      this.appService.changePassword(data).subscribe(\n        (apiResponse) => {\n          console.log(apiResponse);\n          if (apiResponse.status === 200) {\n            alert(apiResponse.message);\n            this.isForgotPassword = false;\n          }\n          else {\n            alert(apiResponse.message);\n          }\n        },\n        (err) => {\n          alert(err.error.message);\n        }\n      )\n    } else {\n      let data = {\n        email: this.email,\n        password: this.password\n      }\n      this.appService.login(data).subscribe(\n        (apiResponse) => {\n          console.log(apiResponse);\n          if (apiResponse.status === 200) {\n\n            Cookie.set('authToken', apiResponse.data.authToken);\n            Cookie.set('userId', apiResponse.data.userId);\n\n            this.appService.setUserInfoInLocalStorage(apiResponse.data);\n            this.router.navigate(['/dashboard']);\n          }\n          else {\n            alert(apiResponse.message);\n          }\n        },\n        (err) => {\n          alert(err.error.message);\n        }\n      )\n    }\n  }\n\n  public validateEmail(email: string): boolean {\n    let patt = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    if (patt.test(email)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  public forgotPassword() {\n    if (this.isForgotPassword)\n      this.isForgotPassword = false;\n    else {\n      let data = {\n        email: this.email\n      }\n      this.appService.forgotPassword(data).subscribe(\n        (apiResponse) => {\n          console.log(apiResponse);\n          if (apiResponse.status === 200) {\n            alert(apiResponse.message);\n            this.isForgotPassword = true;\n          }\n          else {\n            alert(apiResponse.message);\n          }\n        },\n        (err) => {\n          alert(err.error.message);\n        }\n      )\n    }\n  }\n}\n","<!-- .container starts -->\n<div class=\"container\">\n    <!-- .row starts -->\n    <div class=\"row mt-5\">\n        <div class=\"col-lg-6 col-md-8 offset-md-2 offset-lg-3\">\n            <!-- form starts -->\n            <form class=\"border-primary p-4\" style=\"border: 7px solid white;\" #loginForm=\"ngForm\" (ngSubmit)=\"login()\">\n                <!-- .form-row starts -->\n                <div class=\"form-row\">\n                    <div class=\"col-md-12\">\n                        <span style=\"font-size: 1.5rem;\">Login</span>\n                    </div>\n                </div>\n                <!-- .form-row ends -->\n                <!-- .form-row starts -->\n                <div class=\"form-row mt-3\">\n                    <div class=\"col-md-12 mb-3\">\n                        <label for=\"email\" class=\"font-weight-bold\">Email</label>\n                        <input type=\"email\" class=\"form-control\" id=\"email\" name=\"email\" placeholder=\"Email\" [class.is-invalid]=\"!validateEmail(email) && !_email.pristine\" [class.is-valid]=\"_email.valid\" [(ngModel)]=\"email\" #_email=\"ngModel\" required>\n                        <div class=\"invalid-tooltip\">\n                            Enter a valid email!\n                        </div>\n                    </div>\n                </div>\n                <!-- .form-row ends -->\n                <!-- .form-row starts -->\n                <div class=\"form-row\" *ngIf=\"!isForgotPassword\">\n                    <div class=\"col-md-12 mb-3\">\n                        <div class=\"form-row\">\n                            <div class=\"col-md-6\">\n                                <label for=\"password\" class=\"font-weight-bold\">Password</label>\n                            </div>\n                            <div class=\"col-md-6 form-inline\" style=\"justify-content: flex-end;\">\n                                <button class=\"btn btn-link\" (click)=\"forgotPassword()\" type=\"button\">Forgot Password</button>\n                            </div>\n                        </div>\n                        <input type=\"password\" class=\"form-control\" id=\"password\" name=\"password\" placeholder=\"Password\" [class.is-invalid]=\"!_password.valid && !_password.pristine\" [class.is-valid]=\"_password.valid\" [(ngModel)]=\"password\" #_password=\"ngModel\" required>\n                        <div class=\"invalid-tooltip\">\n                            Enter your password?\n                        </div>\n                    </div>\n                </div>\n                <!-- .form-row ends -->\n                <!-- .form-row starts -->\n                <div class=\"form-row\" *ngIf=\"isForgotPassword\">\n                    <div class=\"col-md-12 mb-3\">\n                        <label for=\"otp\" class=\"font-weight-bold\">OTP</label>\n                        <input type=\"number\" class=\"form-control\" id=\"otp\" name=\"OTP\" placeholder=\"OTP\" [class.is-invalid]=\"!_otp.valid && !_otp.pristine\" [class.is-valid]=\"_password.valid\" [(ngModel)]=\"OTP\" #_otp=\"ngModel\" required>\n                        <div class=\"invalid-tooltip\">\n                            Enter OTP send to you registered email?\n                        </div>\n                    </div>\n                    <div class=\"col-md-12 mb-3\">\n                        <div class=\"form-row\">\n                            <div class=\"col-md-6\">\n                                <label for=\"password\" class=\"font-weight-bold\">New Password</label>\n                            </div>\n                            <div class=\"col-md-6 form-inline\" style=\"justify-content: flex-end;\">\n                                <button class=\"btn btn-link\" (click)=\"forgotPassword()\" type=\"button\">Goto Login</button>\n                            </div>\n                        </div>\n                        <input type=\"password\" class=\"form-control\" id=\"password\" name=\"password\" placeholder=\"Password\" [class.is-invalid]=\"!_password.valid && !_password.pristine\" [class.is-valid]=\"_password.valid\" [(ngModel)]=\"password\" #_password=\"ngModel\" required>\n                        <div class=\"invalid-tooltip\">\n                            Enter your new password?\n                        </div>\n                    </div>\n                </div>\n                <!-- .form-row ends -->\n                <button *ngIf=\"!isForgotPassword\" class=\"btn btn-danger form-control mt-5\" type=\"submit\" [disabled]=\"!loginForm.form.valid\">Login</button>\n                <button *ngIf=\"isForgotPassword\" class=\"btn btn-info form-control mt-5\" type=\"submit\" [disabled]=\"!loginForm.form.valid\">Change Password</button>\n                <div class=\"form-row mt-5\">\n                    <div class=\"col-md-4\">\n                        <hr>\n                    </div>\n                    <div class=\"col-md-4 text-center\">\n                        What new?\n                    </div>\n                    <div class=\"col-md-4\">\n                        <hr>\n                    </div>\n                </div>\n                <a class=\"btn btn-primary form-control mt-5\" [routerLink]=\"['/signup']\">Sign Up</a>\n            </form>\n            <!-- form ends -->\n        </div>\n    </div>\n    <!-- .row ends -->\n</div>\n<!-- .container ends -->","import { Component, OnInit } from '@angular/core';\nimport { AppService } from 'src/app/app.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.css']\n})\nexport class SignupComponent implements OnInit {\n\n  public firstName: string;\n  public lastName: string;\n  public mobileNumber: string;\n  public email: string;\n  public password: string;\n  public countryCode: string = \"\";\n  private phones = { \"BD\": \"880\", \"BE\": \"32\", \"BF\": \"226\", \"BG\": \"359\", \"BA\": \"387\", \"BB\": \"+1-246\", \"WF\": \"681\", \"BL\": \"590\", \"BM\": \"+1-441\", \"BN\": \"673\", \"BO\": \"591\", \"BH\": \"973\", \"BI\": \"257\", \"BJ\": \"229\", \"BT\": \"975\", \"JM\": \"+1-876\", \"BV\": \"\", \"BW\": \"267\", \"WS\": \"685\", \"BQ\": \"599\", \"BR\": \"55\", \"BS\": \"+1-242\", \"JE\": \"+44-1534\", \"BY\": \"375\", \"BZ\": \"501\", \"RU\": \"7\", \"RW\": \"250\", \"RS\": \"381\", \"TL\": \"670\", \"RE\": \"262\", \"TM\": \"993\", \"TJ\": \"992\", \"RO\": \"40\", \"TK\": \"690\", \"GW\": \"245\", \"GU\": \"+1-671\", \"GT\": \"502\", \"GS\": \"\", \"GR\": \"30\", \"GQ\": \"240\", \"GP\": \"590\", \"JP\": \"81\", \"GY\": \"592\", \"GG\": \"+44-1481\", \"GF\": \"594\", \"GE\": \"995\", \"GD\": \"+1-473\", \"GB\": \"44\", \"GA\": \"241\", \"SV\": \"503\", \"GN\": \"224\", \"GM\": \"220\", \"GL\": \"299\", \"GI\": \"350\", \"GH\": \"233\", \"OM\": \"968\", \"TN\": \"216\", \"JO\": \"962\", \"HR\": \"385\", \"HT\": \"509\", \"HU\": \"36\", \"HK\": \"852\", \"HN\": \"504\", \"HM\": \" \", \"VE\": \"58\", \"PR\": \"+1-787 and 1-939\", \"PS\": \"970\", \"PW\": \"680\", \"PT\": \"351\", \"SJ\": \"47\", \"PY\": \"595\", \"IQ\": \"964\", \"PA\": \"507\", \"PF\": \"689\", \"PG\": \"675\", \"PE\": \"51\", \"PK\": \"92\", \"PH\": \"63\", \"PN\": \"870\", \"PL\": \"48\", \"PM\": \"508\", \"ZM\": \"260\", \"EH\": \"212\", \"EE\": \"372\", \"EG\": \"20\", \"ZA\": \"27\", \"EC\": \"593\", \"IT\": \"39\", \"VN\": \"84\", \"SB\": \"677\", \"ET\": \"251\", \"SO\": \"252\", \"ZW\": \"263\", \"SA\": \"966\", \"ES\": \"34\", \"ER\": \"291\", \"ME\": \"382\", \"MD\": \"373\", \"MG\": \"261\", \"MF\": \"590\", \"MA\": \"212\", \"MC\": \"377\", \"UZ\": \"998\", \"MM\": \"95\", \"ML\": \"223\", \"MO\": \"853\", \"MN\": \"976\", \"MH\": \"692\", \"MK\": \"389\", \"MU\": \"230\", \"MT\": \"356\", \"MW\": \"265\", \"MV\": \"960\", \"MQ\": \"596\", \"MP\": \"+1-670\", \"MS\": \"+1-664\", \"MR\": \"222\", \"IM\": \"+44-1624\", \"UG\": \"256\", \"TZ\": \"255\", \"MY\": \"60\", \"MX\": \"52\", \"IL\": \"972\", \"FR\": \"33\", \"IO\": \"246\", \"SH\": \"290\", \"FI\": \"358\", \"FJ\": \"679\", \"FK\": \"500\", \"FM\": \"691\", \"FO\": \"298\", \"NI\": \"505\", \"NL\": \"31\", \"NO\": \"47\", \"NA\": \"264\", \"VU\": \"678\", \"NC\": \"687\", \"NE\": \"227\", \"NF\": \"672\", \"NG\": \"234\", \"NZ\": \"64\", \"NP\": \"977\", \"NR\": \"674\", \"NU\": \"683\", \"CK\": \"682\", \"XK\": \"\", \"CI\": \"225\", \"CH\": \"41\", \"CO\": \"57\", \"CN\": \"86\", \"CM\": \"237\", \"CL\": \"56\", \"CC\": \"61\", \"CA\": \"1\", \"CG\": \"242\", \"CF\": \"236\", \"CD\": \"243\", \"CZ\": \"420\", \"CY\": \"357\", \"CX\": \"61\", \"CR\": \"506\", \"CW\": \"599\", \"CV\": \"238\", \"CU\": \"53\", \"SZ\": \"268\", \"SY\": \"963\", \"SX\": \"599\", \"KG\": \"996\", \"KE\": \"254\", \"SS\": \"211\", \"SR\": \"597\", \"KI\": \"686\", \"KH\": \"855\", \"KN\": \"+1-869\", \"KM\": \"269\", \"ST\": \"239\", \"SK\": \"421\", \"KR\": \"82\", \"SI\": \"386\", \"KP\": \"850\", \"KW\": \"965\", \"SN\": \"221\", \"SM\": \"378\", \"SL\": \"232\", \"SC\": \"248\", \"KZ\": \"7\", \"KY\": \"+1-345\", \"SG\": \"65\", \"SE\": \"46\", \"SD\": \"249\", \"DO\": \"+1-809 and 1-829\", \"DM\": \"+1-767\", \"DJ\": \"253\", \"DK\": \"45\", \"VG\": \"+1-284\", \"DE\": \"49\", \"YE\": \"967\", \"DZ\": \"213\", \"US\": \"1\", \"UY\": \"598\", \"YT\": \"262\", \"UM\": \"1\", \"LB\": \"961\", \"LC\": \"+1-758\", \"LA\": \"856\", \"TV\": \"688\", \"TW\": \"886\", \"TT\": \"+1-868\", \"TR\": \"90\", \"LK\": \"94\", \"LI\": \"423\", \"LV\": \"371\", \"TO\": \"676\", \"LT\": \"370\", \"LU\": \"352\", \"LR\": \"231\", \"LS\": \"266\", \"TH\": \"66\", \"TF\": \"\", \"TG\": \"228\", \"TD\": \"235\", \"TC\": \"+1-649\", \"LY\": \"218\", \"VA\": \"379\", \"VC\": \"+1-784\", \"AE\": \"971\", \"AD\": \"376\", \"AG\": \"+1-268\", \"AF\": \"93\", \"AI\": \"+1-264\", \"VI\": \"+1-340\", \"IS\": \"354\", \"IR\": \"98\", \"AM\": \"374\", \"AL\": \"355\", \"AO\": \"244\", \"AQ\": \"\", \"AS\": \"+1-684\", \"AR\": \"54\", \"AU\": \"61\", \"AT\": \"43\", \"AW\": \"297\", \"IN\": \"91\", \"AX\": \"+358-18\", \"AZ\": \"994\", \"IE\": \"353\", \"ID\": \"62\", \"UA\": \"380\", \"QA\": \"974\", \"MZ\": \"258\" };\n  public codes;\n\n  constructor(public appService: AppService, public router: Router) { }\n\n  ngOnInit(): void {\n    // this.appService.getCountryCode().subscribe(\n    //   (apiResponse) => {\n    //     if (apiResponse)\n    //       this.phones = apiResponse;\n    //   },\n    //   (err) => {\n    //     console.log(err.error.message);\n    //   });\n    this.codes = Object.keys(this.phones);\n  }\n\n  public signup(): void {\n    let countryCode = this.phones[this.countryCode.trim()];\n    let data = {\n      firstName: this.firstName,\n      lastName: this.lastName,\n      mobileNumber: this.mobileNumber,\n      email: this.email,\n      password: this.password,\n      countryCode: countryCode\n    }\n    this.appService.signup(data).subscribe(\n      (apiResponse) => {\n        console.log(apiResponse);\n        if (apiResponse.status === 200) {\n          alert(apiResponse.message);\n\n          setTimeout(() => {\n            this.router.navigate(['/login']);\n          }, 2000);\n        }\n        else {\n          alert(apiResponse.message);\n        }\n      },\n      (err) => {\n        alert(err.error.message);\n      });\n  }\n\n  public validateEmail(email: string): boolean {\n    let patt = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    if (patt.test(email)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  public validateMobile(mobileNumber: string): boolean {\n    if (!this.countryCode || !mobileNumber)\n      return false;\n    else if (this.countryCode == 'IN') {\n      let mobileNumberRegex = /^[6-9]\\d{9}$/; /* 10 digits starts with 6-9 for India*/\n      if (mobileNumber.toString().match(mobileNumberRegex)) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return true;\n    }\n  }\n\n  public validatePassword(password: string): boolean {\n    let patt = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n    if (patt.test(password)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n}\n","<!-- .container starts -->\n<div class=\"container\">\n    <!-- .row starts -->\n    <div class=\"row mt-3\">\n        <div class=\"col-lg-6 col-md-8 offset-md-2 offset-lg-3\">\n            <form class=\"border-primary p-4\" style=\"border: 7px solid white;\" #signupForm=\"ngForm\" (ngSubmit)=\"signup()\">\n                <!-- .form-row starts -->\n                <div class=\"form-row\">\n                    <div class=\"col-md-12\">\n                        <span style=\"font-size: 1.5rem;\">Sign Up</span>\n                    </div>\n                </div>\n                <!-- .form-row ends -->\n                <!-- .form-row starts -->\n                <div class=\"form-row mt-3\">\n                    <div class=\"col-md-6 mb-3\">\n                        <label for=\"firstName\" class=\"font-weight-bold\">First name</label>\n                        <input type=\"text\" class=\"form-control\" [class.is-invalid]=\"!_firstName.valid && !_firstName.pristine\" [class.is-valid]=\"_firstName.valid\" id=\"firstName\" name=\"firstName\" [(ngModel)]=\"firstName\" placeholder=\"First name\" #_firstName=\"ngModel\" required>\n                        <div class=\"invalid-feedback\">\n                            Enter your first name?\n                        </div>\n                    </div>\n                    <div class=\"col-md-6 mb-3\">\n                        <label for=\"lastName\" class=\"font-weight-bold\">Last name</label>\n                        <input type=\"text\" class=\"form-control\" [class.is-invalid]=\"!_lastName.valid && !_lastName.pristine\" [class.is-valid]=\"_lastName.valid\" id=\"lastName\" name=\"lastName\" [(ngModel)]=\"lastName\" placeholder=\"Last name\" #_lastName=\"ngModel\" required>\n                        <div class=\"invalid-feedback\">\n                            Enter your last name?\n                        </div>\n                    </div>\n                </div>\n                <!-- .form-row ends -->\n                <!-- .form-row starts -->\n                <div class=\"form-row\">\n                    <div class=\"col-md-12 mb-3\">\n                        <label for=\"email\" class=\"font-weight-bold\">Email</label>\n                        <input type=\"email\" class=\"form-control\" [class.is-invalid]=\"!validateEmail(email) && !_email.pristine\" [class.is-valid]=\"validateEmail(email)\" id=\"email\" name=\"email\" [(ngModel)]=\"email\" placeholder=\"Email\" #_email=\"ngModel\" required>\n                        <div class=\"invalid-feedback\" [hidden]=\"validateEmail(email) && _email.touched\">\n                            Enter a valid email!\n                        </div>\n                    </div>\n                </div>\n                <!-- .form-row ends -->\n                <!-- .form-row starts -->\n                <div class=\" form-row\">\n                    <div class=\"col-md-3 mb-3\">\n                        <label for=\"countryCode\" class=\"font-weight-bold\">Country Code</label>\n                        <select class=\"form-control\" id=\"countryCode\" [class.is-invalid]=\"countryCode=='' && _countryCode.touched\" [class.is-valid]=\"countryCode!=''\" name=\"countryCode\" [(ngModel)]=\"countryCode\" #_countryCode=\"ngModel\">\n                            <option value=\"\" >Select</option>\n                            <option *ngFor=\"let code of codes\" [value]=\"code\" >{{code}}</option>\n                          </select>\n                        <div class=\"invalid-feedback\">\n                            Select a country code?\n                        </div>\n                    </div>\n                    <div class=\"col-md-9 mb-3\">\n                        <label for=\"mobileNumber\" class=\"font-weight-bold\">Mobile number</label>\n                        <input type=\"number\" class=\"form-control\" [class.is-invalid]=\"!validateMobile(mobileNumber) && !_mobileNumber.pristine\" [class.is-valid]=\"validateMobile(mobileNumber)\" id=\"mobileNumber\" name=\"mobileNumber\" [(ngModel)]=\"mobileNumber\" placeholder=\"Mobile number\"\n                            #_mobileNumber=\"ngModel\" required>\n                        <div class=\"invalid-feedback\" [hidden]=\"validateMobile(mobileNumber) && _mobileNumber.touched\">\n                            Enter a valid mobile number!\n                        </div>\n                    </div>\n                </div>\n                <!-- .form-row ends -->\n                <!-- .form-row starts -->\n                <div class=\"form-row\">\n                    <div class=\"col-md-12 mb-3\">\n                        <label for=\"password\" class=\"font-weight-bold\">Password</label>\n                        <input type=\"password\" class=\"form-control\" [class.is-invalid]=\"!validatePassword(password) && !_password.pristine\" [class.is-valid]=\"validatePassword(password)\" id=\"password\" name=\"password\" [(ngModel)]=\"password\" placeholder=\"Password\" #_password=\"ngModel\"\n                            required>\n                        <div class=\"invalid-feedback\" [hidden]=\"validatePassword(password) && _password.touched\">\n                            Enter password with atleast: <br> 1 capital letter <br> 1 special character<br> 1 digit <br> 1 small letter <br> Total of 8 characters.\n                        </div>\n                    </div>\n                </div>\n                <!-- .form-row ends -->\n                <button class=\"btn btn-primary form-control mt-3\" type=\"submit\" [disabled]=\"!signupForm.form.valid || !validateEmail(email) || !validateMobile(mobileNumber) || !validatePassword(password)\">Sign Up</button>\n                <a class=\"btn btn-danger form-control mt-3 mb-5\" [routerLink]=\"['/login']\">Back to Login Page</a>\n            </form>\n\n        </div>\n    </div>\n    <!-- .row ends -->\n</div>\n<!-- .container ends -->","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SignupComponent } from './signup/signup.component';\nimport { LoginComponent } from './login/login.component';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\n\n\n@NgModule({\n  declarations: [SignupComponent, LoginComponent],\n  imports: [\n    CommonModule,\n    RouterModule.forChild([\n      { path: 'signup', component: SignupComponent }\n    ]),\n    FormsModule\n  ]\n})\nexport class UserModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/* (ignored) */"]}